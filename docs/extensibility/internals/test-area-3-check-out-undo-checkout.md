---
title: 測試區域 3： 檢查-恢復簽出 |Microsoft 文件
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- vs-ide-sdk
ms.topic: conceptual
helpviewer_keywords:
- source control plug-ins, checkout
- source control plug-ins, undo checkout
- source control [Visual Studio SDK], checking out
- source control [Visual Studio SDK], undo checkout
ms.assetid: ce00c5a5-d472-4f45-8776-d77a1fbe9d37
author: gregvanl
ms.author: gregvanl
manager: douge
ms.workload:
- vssdk
ms.openlocfilehash: 5d769fdc52ac92053c258a3f82fa53cec5c56fa7
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/16/2018
ms.locfileid: "31134961"
---
# <a name="test-area-3-check-outundo-checkout"></a>測試區域 3： 簽出/恢復簽出
這個原始檔控制外掛程式的測試區域涵蓋透過版本存放區中的編輯和還原項目**簽出**和**恢復簽出**命令。  
  
 **簽出**： 標記的版本存放區中的項目為已簽出，修改為讀取/寫入的本機複本。  
  
 **恢復簽出**： 會標示為簽入的版本存放區中的項目，就會還原本機複本以簽出 （取決於選項） 之前的狀態。  
  
## <a name="command-menu-access"></a>命令功能表存取  
 下列[!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)]測試案例中使用整合式的開發環境功能表路徑。  
  
##### <a name="check-out"></a>請參閱：  
  
-   **檔案**，**原始檔控制**，**簽出**。  
  
-   **檔案**，**簽出**。  
  
-   快顯功能表**簽出**。  
  
-   復原簽出：**檔案**，**原始檔控制**，**恢復簽出**。  
  
## <a name="common-expected-behavior"></a>常見的預期的行為  
  
-   取出作業之後的目標檔案及/或資料夾會標示為在版本存放區中簽出。  
  
-   版本存放區屬性正確的使用者簽出。  
  
-   簽出的日期和時間正確無誤 （每個使用者的設定）。  
  
## <a name="test-cases"></a>測試案例  
 以下是特定的簽出/復原簽出測試區域的測試案例。  
  
### <a name="case-3a-check-out"></a>案例 3a： 簽出  
 本節著重於 [簽出] 命令的作業。  
  
|動作|測試步驟|若要確認預期的結果|  
|------------|----------------|--------------------------------|  
|簽出獨占 (COE) 用戶端專案|1.建立用戶端專案。<br />2.將方案加入原始檔控制。<br />3.以獨佔方式簽出整個專案 (**檔案**，**簽出**)。|簽出，就會發生。|  
|獨佔簽出 (COE) 檔案系統或本機 IIS Web 專案|1.設定檔案共用中的 Web 伺服器連接**工具**，**選項**，**專案**， **Web 設定**。<br />2.建立 Web 專案。<br />3.將方案加入原始檔控制。<br />4.以獨佔方式簽出整個專案 (**檔案**，**原始檔控制**，**簽出**)。|簽出，就會發生。|  
|簽出方案 （新方法來處理其他檔案） 中的方案項目|1.建立空白方案。<br />2.將方案加入原始檔控制。<br />3.簽出方案。<br />4.加入數個方案項目。<br />5.簽入所有新加入的項目。<br />6.選取多個方案項目。<br />7.簽出選取的項目 (快顯功能表**簽出**)。|選取的檔案未簽出。|  
|簽出本機版本 （如果受測試外掛程式支援這項功能）|1.使用者 1： 建立用戶端專案。<br />2.使用者 1： 將方案加入原始檔控制。<br />3.使用者 2： 從原始檔控制開啟方案，到另一個位置。<br />4.使用者 2： 簽出檔案。<br />5.使用者 2： 修改檔案。<br />6.使用者 2： 檢查檔案中。<br />7.使用者 1： 簽出本機版本的檔案 (檢查**簽出本機版本**進階選項中的**簽出**對話方塊)。|檔案的本機版本簽出。<br /><br /> 使用者 2 的修改不會套用到使用者 1 檔案。|  
  
### <a name="case-3b-disconnected-check-out"></a>案例 3b： 中斷連接簽出  
 在中斷模式中作業可讓使用者某種程度的不直接連結至版本存放區時，一直持續不斷地的來源控制支援。 這是在本機快取所有相關資訊的已登錄的方案和專案。  
  
 當連接到原始檔控制存放區時，才可以進行獨佔簽出作業。 共用的簽出作業可能在任何時間，是否連線或中斷連線。 因此，版本儲存區時，只能從中斷連線時**簽出共用**(COS) 已啟用命令。 中斷連接，而**恢復簽出**停用，因為無法擷取舊版本，以取代使用者所做的變更。  
  
 當使用者重新連線時的版本儲存簽出狀態的所有已登錄的方案和專案同步處理。 這會為使用者執行簽出執行必要的更新至存放區。 一旦發生同步處理，使用者就能繼續正常運作 （連線）。  
  
#### <a name="expected-behavior"></a>預期的行為  
  
-   無法使用**獨佔簽出**命令，讓中斷版本存放區。  
  
-   無法使用**恢復簽出**命令，讓中斷版本存放區。  
  
-   **共用簽出**命令。  
  
|動作|測試步驟|若要確認預期的結果|  
|------------|----------------|--------------------------------|  
|中斷連線，簽出檔案，然後連接用於同步處理|1.中斷連線的受控制的專案，使用 變更原始檔控制對話方塊 (**檔案**，**原始檔控制**，**變更原始檔控制**l)。<br />2.將檔案簽。<br />3.按一下 簽出 警告 對話方塊中 （中斷）。<br />4.編輯檔案。<br />5.使用 [變更原始檔控制] 對話方塊進行連接。<br />6.取得最新版本的已編輯的檔案。|常見的預期的行為|  
  
### <a name="case-3c-query-editquery-save-qeqs"></a>案例 3 c： 查詢編輯查詢儲存 (QEQS)  
 原始檔控制下的項目追蹤的變更，編輯和儲存，讓使用者輕鬆地管理其檔案。 當編輯受控制的項目 「 簽入程式 」 時，QEQS 攔截嘗試的編輯，並詢問使用者是否要簽出檔案進行編輯。 取決於**工具**，**選項**設定，使用者是其中一個會強迫檢查 out 檔案，以便進行編輯，或可能會允許編輯記憶體中的複本，並稍後再查看。 如果使用者的**工具**，**選項**設定不是以顯示簽出對話方塊，並只簽出，則當使用者有其編輯時，檔案會自動簽出，可能的話。  
  
#### <a name="expected-behavior"></a>預期的行為  
  
-   取出作業之後的目標檔案及/或資料夾會標示為在版本存放區中簽出。  
  
-   版本存放區屬性的簽出正確的使用者。  
  
-   簽出的日期和時間正確無誤 （每個使用者的設定）。  
  
-   目標檔案或資料夾的本機複本是可寫入。  
  
|動作|測試步驟|若要確認預期的結果|  
|------------|----------------|--------------------------------|  
|編輯簽入的文字檔|1.建立新的專案包含的文字檔案。<br />2.將方案加入原始檔控制。<br />3.設定**工具**，**選項**，**原始檔控制**，**允許編輯唯讀磁碟上的檔案**為未核取。<br />4.設定**工具**，**選項**，**原始檔控制**，**提示簽出**中**簽入檔案時已編輯的**下拉式方塊。<br />5.設定**工具**，**選項**，**原始檔控制**，**提示簽出**中**時簽入檔案會儲存**下拉式方塊。<br />6.在編輯器中開啟文字檔案，嘗試將檔案中輸入新的文字。 如果這個步驟成功，請繼續下一個步驟。<br />7.按一下**取消**中**簽出以編輯** 對話方塊。 如果這個步驟成功，請繼續下一個步驟。<br />8.設定**工具**，**選項**，**原始檔控制**，**允許編輯唯讀磁碟上的檔案**為已核取。<br />9.在編輯器中開啟專案檔，嘗試在檔案中輸入新的文字。 如果這個步驟成功，請繼續下一個步驟。<br />10.按一下**編輯**中**簽出以編輯** 對話方塊。 如果這個步驟成功，請繼續下一個步驟。<br />11.編輯文字檔案，並嘗試儲存它。|`Result of step 6:`<br /><br /> 編輯對話方塊會出現，請簽出。<br /><br /> `Result of step 7:`<br /><br /> 檔案不會變更。<br /><br /> `Result of step 9:`<br /><br /> 編輯對話方塊會出現，請簽出。<br /><br /> `Result of step 10:`<br /><br /> 您可以編輯專案檔，在記憶體中。<br /><br /> `Result of step 11:`<br /><br /> 在儲存、 簽出上的儲存對話方塊會出現。|  
|編輯簽入的方案檔|如先前所述的步驟執行測試，但而不修改的文字檔案，以修改方案變更方案屬性重複。|與前一個測試相同|  
|編輯簽入的專案檔|如先前所述的步驟執行測試，但而不修改的文字檔案，請藉由變更專案屬性中修改專案重複。|上一次測試相同。|  
  
### <a name="case-3d-silent-check-out"></a>大小寫 3d： 立即簽出  
 此案例的子區域涵蓋檢查其中**簽出**對話方塊不會出現每個使用者的**工具**，**選項**，**原始檔控制設定**.  
  
#### <a name="expected-behavior"></a>預期的行為  
  
-   取出作業之後的目標檔案及/或資料夾會標示為在版本存放區中簽出。  
  
-   版本存放區屬性的簽出正確的使用者。  
  
-   簽出的日期和時間正確無誤 （每個使用者的設定）。  
  
-   目標檔案或資料夾的本機複本是可寫入。  
  
|動作|測試步驟|若要確認預期的結果|  
|------------|----------------|--------------------------------|  
|無訊息的簽出檔案|1.設定**工具**，**選項**，**原始檔控制**至**在編輯時自動簽出檔案**。<br />2.建立新的專案與檔案。<br />3.將方案加入原始檔控制。<br />4.簽出檔案。|以無訊息模式簽出檔案 (UI)。|  
|無訊息的簽出專案|1.設定**工具**，**選項**，**原始檔控制**至**在編輯時自動簽出檔案**。<br />2.建立新的專案。<br />3.將方案加入原始檔控制。<br />4.簽出專案。|以無訊息模式簽出檔案 (UI)。|  
  
### <a name="case-3e-undo-check-out"></a>大小寫 3e： 復原簽出  
 **復原簽出**用來取消簽出狀態的檔案，並避免簽入的檔案所做的變更。  
  
#### <a name="expected-behavior"></a>預期的行為  
  
-   預設值根據使用者的**簽出本機版本**設定。 如果使用者已選擇要簽出本機版本，復原簽出的預設值是隨時回復簽出的版本。  
  
-   接受的復原中的圖示時**方案總管 中**會更新受影響的檔案和項目被移除了**暫止簽入**視窗。  
  
|動作|測試步驟|若要確認預期的結果|  
|------------|----------------|--------------------------------|  
|復原簽出以獨佔方式簽出的單一檔案|1.建立用戶端專案。<br />2.將方案加入原始檔控制。<br />3.以獨佔方式簽出檔案。<br />4.修改檔案。<br />5.恢復簽出 (**檔案**，**原始檔控制**，**恢復簽出**)。|常見的預期的行為。|  
|復原簽出已簽出共用的單一檔案|1.建立用戶端專案。<br />2.將方案加入原始檔控制。<br />3.簽出共用的檔案。<br />4.修改檔案。<br />5.恢復簽出 (**檔案**，**原始檔控制**，**恢復簽出**)。|常見的預期的行為。|  
|復原簽出專案的檔案加入專案之後|1.建立新的專案，並將它加入至原始檔控制。<br />2.簽出專案。<br />3.將檔案加入專案。<br />4.復原簽出專案。|加入的檔案會從方案總管 中的專案中移除。<br /><br /> 專案不再簽出。|  
|從專案刪除檔案後恢復專案的簽出|1.建立新的專案，並將它加入至原始檔控制。<br />2.簽出專案。<br />3.從專案刪除檔案。<br />4.復原簽出專案。|已刪除的檔案會出現在 [方案總管] 中的專案。<br /><br /> 專案不再簽出。|  
  
## <a name="see-also"></a>另請參閱  
 [原始檔控制外掛程式測試指南](../../extensibility/internals/test-guide-for-source-control-plug-ins.md)