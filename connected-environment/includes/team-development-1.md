---
ms.topic: include
ms.openlocfilehash: 30d3f9da291feb52674937d4b2f1b86f3efd0386
ms.sourcegitcommit: 928885ace538bef5b25961358d4f166d648f196a
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/27/2018
---
截至目前為止，我們一直在執行我們的應用程式程式碼，就好像自己是唯一使用此應用程式的開發人員一樣。 在本節中，我們會了解已連線的環境如何簡化小組開發：
* 讓一組開發人員在相同的開發環境中工作。
* 支援每位開發人員在隔離狀態下重複他們的程式碼，不用擔心中斷其他人的程式碼。
* 在認可程式碼之前，以端對端方式測試程式碼，不必建立模型或模擬相依性。

## <a name="challenges-with-developing-microservices"></a>開發微服務的挑戰
我們的範例應用程式目前還不是很複雜。 但是在真實世界的開發中，挑戰很快就會出現，因為會新增很多的服務和開發小組。

請想像您正在使用與數十項其他服務互動的服務。

1. 因開發工作而在本機執行所有項目很不切實際。 您的開發電腦可能沒有足夠的資源，無法執行整個應用程式。 或者，您的應用程式可能有需要公開連接的端點 (例如，您的應用程式會回應來自 SaaS 應用程式的 Webhook)。
1. 您可以嘗試只執行您依存的服務，但這表示您需要知道相依性的完整結束 (例如，相依性的相依性)。 或者，因為您並未使用它們，只是不太了解如何建置和執行您的相依性。
1. 有些開發人員會模擬許多服務相依性或建立它們的模型。 這種方法有的時候有用，但管理這些模擬很快就會消耗開發的棈力。 再者，這會讓您的開發環境與生產環境相去甚遠，以至開始出現細微的 Bug。
1. 它會隨著執行任何類型的端對端測試而變得難以處理。 整合測試實際上只會發生在認可後，這表示我們會到開發週期的後期才發現問題。

![](../media/microservices-challenges.png)


## <a name="work-in-a-shared-development-environment"></a>在共用的開發環境中工作
在已連線的環境中，您可以在 Azure 中設定「共用」的開發環境。 每位開發人員可以只專注於他們的應用程式部分，並可以在已包含其案例所依存之所有其他服務和雲端資源的環境中，反覆開發「預先認可程式碼」。 相依性一律保持最新狀態，而開發人員會以鏡像處理生產環境的方式工作。

## <a name="work-in-your-own-space"></a>在您自己的空間中工作
當您為您的服務開發程式碼，且在準備好要將它簽入之前，程式碼通常不會處於良好狀態。 您仍然要使用解決方案對它進行反覆成形、測試及實驗。 已連線的環境會提供**空間**的概念，讓您能夠在隔離的狀況下工作，不用擔心中斷您小組成員的工作。

> [!Note]
> 繼續之前，請先關閉這兩項服務的所有 VS 程式碼視窗，然後在每項服務的根資料夾中執行 `vsce up -d`。 (這是預覽版的限制。)

讓我們進一步查看目前服務執行的環境。 執行 `vsce list` 命令，然後您會看到類似下面的輸出：

```
Name         Space     Chart              Ports   Updated     Access Points
-----------  --------  -----------------  ------  ----------  -------------------------
mywebapi     mainline  mywebapi-0.1.0     80/TCP  2m ago     <not attached>
webfrontend  mainline  webfrontend-0.1.0  80/TCP  1m ago     https://webfrontend-contosodev.vsce.io
```

[空間] 資料行顯示這兩種服務都在名為 `mainline` 的空間中執行。 開啟公用 URL 並巡覽至 Web 應用程式的任何人都會叫用我們之前寫入，透過這兩項服務執行的程式碼路徑。 現在，假設我們想要繼續開發 `mywebapi`。 我們該如何執行這項作業，卻又不中斷其他使用開發環境之開發人員的工作呢？ 若要這樣做，我們要設定自己的空間。

## <a name="create-a-space"></a>建立空間
為了在 `mainline` 以外的空間中執行自己版本的 `mywebapi`，我們建立自己的空間：
``` 
vsce space create --name scott
```

在上述範例中，我用自己的姓名為新空間命名，方便我的同事辨識那是我工作的空間，但您可以用任何名稱稱呼它，什麼意思都可以，例如 'sprint4' 或 'demo'。 

執行 `vsce space list` 命令以查看開發環境中所有空間的清單。 目前選取的空間旁邊會出現星號 (*)。 在我們的案例中，名為 'scott' 的空間會在建立時自動選取。 您可以使用 `vsce space select` 命令隨時選取其他空間。
